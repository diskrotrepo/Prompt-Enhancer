{
  "cases": [
    {
      "id": "default_ui_state",
      "description": "Default UI state on first load without an explicit mix state.",
      "random": 0
    },
    {
      "id": "color_custom_state",
      "description": "Custom colors persist on mix boxes.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Color Mix",
            "limit": 6,
            "exact": false,
            "preserve": true,
            "randomize": false,
            "colorMode": "custom",
            "colorValue": "#ff3366",
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a ",
                "limit": 6,
                "exact": false,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "basic_mix_divider",
      "description": "Three chunk lists mixed in canonical order without delimiter injection.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Mix A",
            "limit": 6,
            "exact": false,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a ",
                "limit": 6,
                "exact": false,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "b ",
                "limit": 6,
                "exact": false,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "d ",
                "limit": 6,
                "exact": false,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "random_mix_order",
      "description": "Mix randomizes list order every cycle.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Mix A",
            "limit": 6,
            "exact": false,
            "preserve": true,
            "orderMode": "randomize-interleave",
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a ",
                "limit": 6,
                "exact": false,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "b ",
                "limit": 6,
                "exact": false,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "c ",
                "limit": 6,
                "exact": false,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "mix_full_randomize_order",
      "description": "Mix full randomize shuffles the final mixed chunk list after canonical interleave.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Mix Full Random",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "orderMode": "full-randomize",
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a1 a2 ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "orderMode": "canonical",
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "b1 b2 ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "orderMode": "canonical",
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "exact_length_trim",
      "description": "Exact length trims the final chunk rather than injecting new delimiters.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Mix A",
            "limit": 5,
            "exact": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "abc ",
                "limit": 5,
                "exact": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "exact_once_length",
      "description": "Exact once stops after a single pass instead of repeating chunks.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Exact Once",
            "limit": 10,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a b ",
                "limit": 10,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "exact_once_variable_mix",
      "description": "Exact once with variables stops after one pass through the mix order.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Exact Once Variables",
            "limit": 20,
            "exact": true,
            "singlePass": true,
            "singlePassMode": "largest",
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "id": "chunk-a",
                "text": "a ",
                "limit": 20,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "id": "chunk-b",
                "text": "b ",
                "limit": 20,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "variable",
                "id": "var-1",
                "targetId": "chunk-b"
              }
            ]
          }
        ]
      }
    },
    {
      "id": "fit_smallest_mix",
      "description": "Fit to Smallest stops as soon as the shortest child list is exhausted.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Fit Smallest",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "singlePassMode": "smallest",
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a b c ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x y ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "fit_largest_mix",
      "description": "Fit to Largest repeats shorter child lists until the longest list is exhausted.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Fit Largest",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "singlePassMode": "largest",
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a b c ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x y ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "dropout_mix",
      "description": "Dropout on mixes builds a full one-pass list, then removes random chunks to satisfy the limit.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Dropout Mix",
            "limit": 6,
            "lengthMode": "dropout",
            "exact": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a b c ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x y ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "dropout_mix_short_lists",
      "description": "Dropout on short mixes still seeds from one full pass before random removals.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Dropout Short Mix",
            "limit": 7,
            "lengthMode": "dropout",
            "exact": true,
            "preserve": true,
            "orderMode": "canonical",
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "orderMode": "canonical",
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "b ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "orderMode": "canonical",
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "fit_smallest_empty_child",
      "description": "Fit to Smallest keeps running when a blank string child emits an empty chunk.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Fit Smallest Empty Child",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "singlePassMode": "smallest",
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a b c ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "fit_smallest_empty_variable",
      "description": "Fit to Smallest should emit nothing when a variable child resolves to an empty list.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Fit Smallest Empty Variable",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "singlePassMode": "smallest",
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "id": "fit-smallest-source",
                "text": "a b c ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "variable",
                "id": "fit-smallest-empty-var",
                "targetId": ""
              }
            ]
          }
        ]
      }
    },
    {
      "id": "random_first_off",
      "description": "Random-first chunk sizing off keeps chunk boundaries stable before mixing.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Random First Off",
            "limit": 24,
            "exact": false,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a1 a2 a3 a4 ",
                "limit": 24,
                "exact": false,
                "firstChunkBehavior": "size",
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 2
                }
              },
              {
                "type": "chunk",
                "text": "b1 b2 b3 b4 ",
                "limit": 24,
                "exact": false,
                "firstChunkBehavior": "size",
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 2
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "custom_chunk_size",
      "description": "Custom chunk sizes load from state and affect length mode output.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Custom Size",
            "limit": 6,
            "exact": false,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a b c d e f ",
                "limit": 6,
                "exact": false,
                "firstChunkBehavior": "size",
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 12
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "nested_rechunk",
      "description": "Nested mix uses rechunked output when preserve chunking is off.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Outer",
            "limit": 6,
            "exact": false,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "mix",
                "title": "Inner",
                "limit": 4,
                "exact": false,
                "preserve": false,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 2
                },
                "children": [
                  {
                    "type": "chunk",
                    "text": "a ",
                    "limit": 4,
                    "exact": false,
                    "randomize": false,
                    "delimiter": {
                      "mode": "whitespace",
                      "size": 1
                    }
                  },
                  {
                    "type": "chunk",
                    "text": "b ",
                    "limit": 4,
                    "exact": false,
                    "randomize": false,
                    "delimiter": {
                      "mode": "whitespace",
                      "size": 1
                    }
                  }
                ]
              },
              {
                "type": "chunk",
                "text": "x ",
                "limit": 6,
                "exact": false,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "variable_reference",
      "description": "Variable nodes reference an existing string or mix and pass its chunks unchanged.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "id": "mix-main",
            "title": "Main",
            "limit": 6,
            "exact": false,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "id": "chunk-a",
                "text": "a ",
                "limit": 6,
                "exact": false,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "id": "chunk-b",
                "text": "b ",
                "limit": 6,
                "exact": false,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "variable",
                "id": "var-1",
                "targetId": "chunk-b"
              }
            ]
          }
        ]
      }
    },
    {
      "id": "root_string_global",
      "description": "Root-level strings can exist without a parent mix.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "chunk",
            "title": "Root String",
            "text": "a b ",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            }
          }
        ]
      }
    },
    {
      "id": "root_string_empty_chunk",
      "description": "Blank strings lock delimiter controls and emit a single empty chunk.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "chunk",
            "title": "Empty String",
            "text": "",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "orderMode": "canonical",
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            }
          }
        ]
      }
    },
    {
      "id": "root_string_empty_chunk_released",
      "description": "Typing into a blank string exits empty chunk mode and restores delimiter controls.",
      "random": 0,
      "actions": [
        {
          "type": "openPromptsWindow"
        },
        {
          "type": "setFirstChunkInput",
          "value": "a b "
        }
      ],
      "state": {
        "mixes": [
          {
            "type": "chunk",
            "title": "Empty Then Filled",
            "text": "",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "orderMode": "canonical",
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            }
          }
        ]
      }
    },
    {
      "id": "root_string_dropout",
      "description": "Dropout on strings builds a full one-pass list, then removes random chunks to satisfy the limit.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "chunk",
            "title": "Dropout String",
            "text": "a b c x y ",
            "limit": 6,
            "lengthMode": "dropout",
            "exact": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            }
          }
        ]
      }
    },
    {
      "id": "root_string_dropout_short_one_pass",
      "description": "Dropout on short strings still seeds from one full pass before random removals.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "chunk",
            "title": "Dropout String Short",
            "text": "a b ",
            "limit": 7,
            "lengthMode": "dropout",
            "exact": true,
            "orderMode": "canonical",
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            }
          }
        ]
      }
    },
    {
      "id": "empty_chunk_mix_skip",
      "description": "An empty chunk child can intentionally skip a slot during mix interleave.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Empty Skip Mix",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "orderMode": "canonical",
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "orderMode": "canonical",
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "orderMode": "canonical",
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "variable_parent_filtered",
      "description": "Variable options exclude ancestor mixes so parent selections are cleared.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "id": "mix-parent",
            "title": "Parent",
            "limit": 20,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a ",
                "limit": 20,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "mix",
                "id": "mix-child",
                "title": "Child",
                "limit": 20,
                "exact": true,
                "singlePass": true,
                "singlePassMode": "largest",
                "preserve": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                },
                "children": [
                  {
                    "type": "chunk",
                    "text": "b ",
                    "limit": 20,
                    "exact": true,
                    "singlePass": true,
                    "randomize": false,
                    "delimiter": {
                      "mode": "whitespace",
                      "size": 1
                    }
                  },
                  {
                    "type": "variable",
                    "id": "var-parent",
                    "targetId": "mix-parent"
                  }
                ]
              }
            ]
          }
        ]
      }
    },
    {
      "id": "remove_variable_keeps_parent_mix",
      "description": "Removing a variable should delete only that variable, not its parent mix.",
      "random": 0,
      "actions": [
        {
          "type": "openPromptsWindow"
        },
        {
          "type": "removeFirstVariable"
        },
        {
          "type": "generate"
        }
      ],
      "state": {
        "mixes": [
          {
            "type": "mix",
            "id": "mix-parent-remove-test",
            "title": "Parent Remove Test",
            "limit": 20,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "id": "chunk-remove-test",
                "text": "a ",
                "limit": 20,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "variable",
                "id": "var-remove-test",
                "targetId": "chunk-remove-test"
              }
            ]
          }
        ]
      }
    },
    {
      "id": "delimiter_whitespace",
      "description": "Whitespace delimiter splits into word chunks and interleaves with another list.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Whitespace Delimiter",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a b c ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x x x ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "delimiter_whitespace_runs",
      "description": "Whitespace delimiter keeps consecutive spaces as separate chunks.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Whitespace Runs",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a   b ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x x x x ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "delimiter_comma",
      "description": "Comma delimiter splits chunks including commas.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Comma Delimiter",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a,b,c,",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "comma",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x x x ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "delimiter_semicolon",
      "description": "Semicolon delimiter splits chunks including semicolons.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Semicolon Delimiter",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a;b;c;",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "semicolon",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x x x ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "delimiter_pipe",
      "description": "Pipe delimiter splits chunks including pipes.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Pipe Delimiter",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a|b|c|",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "pipe",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x x x ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "delimiter_newline",
      "description": "Newline delimiter splits chunks on line breaks.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Newline Delimiter",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a\nb\nc\n",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "newline",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x x x ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "delimiter_tab",
      "description": "Tab delimiter splits chunks on tabs.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Tab Delimiter",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a\tb\tc\t",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "tab",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x x x ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "delimiter_sentence",
      "description": "Sentence punctuation delimiter keeps punctuation attached to chunks.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Sentence Delimiter",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "A.B!C?",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "sentence",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x x x ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "delimiter_custom_match_all",
      "description": "Custom Match All splits on the full delimiter string.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Custom Match All",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a||b||c||",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "custom-all",
                  "custom": "||",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x x x ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "delimiter_custom_match_any",
      "description": "Custom Match Any splits on any character in the custom field.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Custom Match Any",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a,b.c ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "custom-any",
                  "custom": ",. ",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x x x ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "delimiter_custom_newline",
      "description": "Custom delimiter with \\n splits on newlines.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Custom Newline",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a\nb\nc\n",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "custom",
                  "custom": "\\n",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x x x ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "delimiter_custom_tab",
      "description": "Custom delimiter with \\t splits on tabs.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Custom Tab",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a\tb\tc\t",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "custom",
                  "custom": "\\t",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x x x ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "delimiter_custom_empty",
      "description": "Empty custom delimiter falls back to whitespace.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Custom Empty",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a b c ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "custom",
                  "custom": "",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "x x x ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "preserve_off_enables_controls",
      "description": "Preserve chunks off re-enables delimiter and first-chunk controls.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Preserve Off",
            "limit": 20,
            "exact": true,
            "singlePass": true,
            "preserve": false,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a b ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "first_chunk_between",
      "description": "Between 1 - X randomizes the first chunk size.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "First Chunk Between",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a1 a2 a3 a4 ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "firstChunkBehavior": "between",
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 2
                }
              },
              {
                "type": "chunk",
                "text": "b1 b2 b3 b4 ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "firstChunkBehavior": "size",
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 2
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "first_chunk_random_start",
      "description": "Random start rotates the list before chunking.",
      "random": 0.5,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "First Chunk Random Start",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a1 a2 a3 a4 ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "firstChunkBehavior": "random-start",
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 2
                }
              },
              {
                "type": "chunk",
                "text": "b1 b2 b3 b4 ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "firstChunkBehavior": "size",
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 2
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "delete_final_chunk",
      "description": "Delete Final Chunk drops would-overflow chunks.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Delete Final Chunk",
            "limit": 5,
            "exact": false,
            "singlePass": false,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "abc ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "random_chunk_order",
      "description": "Chunk randomization shuffles the chunk list once per generation.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Random Chunk Order",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a b c ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "orderMode": "full-randomize",
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "rechunk_no_random",
      "description": "Rechunking uses the mixed output order without additional randomization.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Rechunk No Random",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": false,
            "randomize": true,
            "delimiter": {
              "mode": "whitespace",
              "size": 2
            },
            "children": [
              {
                "type": "chunk",
                "text": "a1 a2 a3 a4 ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "b1 b2 b3 b4 ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "variable_cycle_guard",
      "description": "Variable cycles are skipped to avoid infinite recursion.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "id": "mix-cycle",
            "title": "Variable Cycle",
            "limit": 20,
            "exact": true,
            "singlePass": true,
            "singlePassMode": "largest",
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a ",
                "limit": 20,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "variable",
                "id": "var-cycle",
                "targetId": "mix-cycle"
              }
            ]
          }
        ]
      }
    },
    {
      "id": "variable_random_chunk_consistent",
      "description": "A variable targeting a randomized string reuses that exact generated order.",
      "randomSequence": [
        0,
        0.99,
        0.99,
        0
      ],
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Variable Random Chunk",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "id": "chunk-random-source",
                "text": "a b c ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": true,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "variable",
                "id": "var-random-source",
                "targetId": "chunk-random-source"
              }
            ]
          }
        ]
      }
    },
    {
      "id": "variable_random_chunk_multi_reference",
      "description": "Multiple variables targeting one randomized string stay in lockstep.",
      "randomSequence": [
        0.99,
        0,
        0,
        0.99
      ],
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Variable Random Chunk Multi",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "id": "chunk-random-shared",
                "text": "a b c ",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "randomize": true,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "variable",
                "id": "var-random-shared-1",
                "targetId": "chunk-random-shared"
              },
              {
                "type": "variable",
                "id": "var-random-shared-2",
                "targetId": "chunk-random-shared"
              }
            ]
          }
        ]
      }
    },
    {
      "id": "variable_random_mix_consistent",
      "description": "Variables targeting randomized mixes evaluate like in-place submix copies.",
      "randomSequence": [
        0,
        0,
        0,
        0.99,
        0.99,
        0.99
      ],
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Variable Random Mix Host",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "mix",
                "id": "mix-random-source",
                "title": "Random Source Mix",
                "limit": 1000,
                "exact": true,
                "singlePass": true,
                "preserve": true,
                "randomize": true,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                },
                "children": [
                  {
                    "type": "chunk",
                    "text": "a b c ",
                    "limit": 1000,
                    "exact": true,
                    "singlePass": true,
                    "randomize": false,
                    "delimiter": {
                      "mode": "whitespace",
                      "size": 1
                    }
                  },
                  {
                    "type": "chunk",
                    "text": "x y z ",
                    "limit": 1000,
                    "exact": true,
                    "singlePass": true,
                    "randomize": false,
                    "delimiter": {
                      "mode": "whitespace",
                      "size": 1
                    }
                  }
                ]
              },
              {
                "type": "variable",
                "id": "var-random-mix",
                "targetId": "mix-random-source"
              }
            ]
          }
        ]
      }
    },
    {
      "id": "copy_output_behavior",
      "description": "Copy buttons use generated output, not raw input.",
      "random": 0,
      "actions": [
        {
          "type": "openPromptsWindow"
        },
        {
          "type": "copyMixOutput"
        },
        {
          "type": "copyChunkOutput"
        }
      ],
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Copy Output",
            "limit": 1000,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "abc def ",
                "limit": 4,
                "exact": true,
                "singlePass": false,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "color_preset_shared",
      "description": "Custom color presets apply across mix and chunk boxes.",
      "random": 0,
      "state": {
        "colorPresets": [
          {
            "id": "storm",
            "name": "Storm",
            "color": "#445566"
          }
        ],
        "mixes": [
          {
            "type": "mix",
            "title": "Preset Mix",
            "limit": 6,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "colorMode": "preset",
            "colorPreset": "storm",
            "colorValue": "#445566",
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a ",
                "limit": 6,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "colorMode": "preset",
                "colorPreset": "storm",
                "colorValue": "#445566",
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "color_preset_missing",
      "description": "Missing preset ids fall back to auto colors.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Missing Preset",
            "limit": 6,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "colorMode": "preset",
            "colorPreset": "ghost",
            "colorValue": "#123456",
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a ",
                "limit": 6,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "collapsed_state_persisted",
      "description": "Collapsed mix and string boxes should hydrate in collapsed state from saved data.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Collapsed Root Mix",
            "limit": 6,
            "lengthMode": "fit-smallest",
            "collapsed": true,
            "preserve": true,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "title": "Collapsed Child String",
                "text": "a ",
                "limit": 6,
                "lengthMode": "exact-once",
                "collapsed": true,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "prompt_menu_load_preset_item",
      "description": "Prompt menu includes a Load Preset submenu entry.",
      "random": 0,
      "actions": [
        {
          "type": "openPromptsWindow"
        }
      ]
    },
    {
      "id": "prompt_menu_save_flow",
      "description": "Prompt menu Save and Save As reuse or prompt for names and update the title.",
      "random": 0,
      "promptResponses": [
        "first",
        "second"
      ],
      "actions": [
        {
          "type": "openPromptsWindow"
        },
        {
          "type": "menuSave"
        },
        {
          "type": "menuSave"
        },
        {
          "type": "menuSaveAs"
        }
      ]
    },
    {
      "id": "local_storage_load",
      "description": "Persisted mix data loads on startup before defaults.",
      "random": 0,
      "persistedState": {
        "mixes": [
          {
            "type": "mix",
            "title": "Persisted",
            "limit": 6,
            "exact": true,
            "singlePass": true,
            "preserve": true,
            "randomize": false,
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "p ",
                "limit": 6,
                "exact": true,
                "singlePass": true,
                "randomize": false,
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    },
    {
      "id": "dropout_mix_reaches_tail_chunks",
      "description": "Dropout uses a full canonical one-pass source so late chunks can survive removals.",
      "random": 0,
      "state": {
        "mixes": [
          {
            "type": "mix",
            "title": "Dropout Tail Coverage",
            "limit": 20,
            "lengthMode": "dropout",
            "preserve": true,
            "orderMode": "canonical",
            "delimiter": {
              "mode": "whitespace",
              "size": 1
            },
            "children": [
              {
                "type": "chunk",
                "text": "a1 a2 a3 a4 a5 a6 a7 a8 ",
                "limit": 1000,
                "lengthMode": "exact-once",
                "orderMode": "canonical",
                "firstChunkBehavior": "size",
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              },
              {
                "type": "chunk",
                "text": "b1 b2 b3 b4 b5 b6 b7 b8 ",
                "limit": 1000,
                "lengthMode": "exact-once",
                "orderMode": "canonical",
                "firstChunkBehavior": "size",
                "delimiter": {
                  "mode": "whitespace",
                  "size": 1
                }
              }
            ]
          }
        ]
      }
    }
  ]
}
