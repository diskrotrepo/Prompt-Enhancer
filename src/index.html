<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prompt Enhancer</title>
  <link rel="stylesheet" href="style.css">

  <!-- Google Analytics tracking -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-D5NMHFTQDK"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-D5NMHFTQDK');
  </script>
</head>

<body>

  <!-- Main container -->
  <div class="container">
    <div class="main-content">
      <!-- Tool content section -->
        <div id="tool" class="content">
          <div id="desktop">
          <div id="menu-bar">
            <button type="button" id="menu-start" class="menu-start" aria-haspopup="true" aria-expanded="false">
              <span class="menu-glyph" aria-hidden="true">
                <span class="slash slash-red">/</span><span class="slash slash-yellow">/</span><span class="slash slash-blue">/</span>
              </span>
            </button>
            <div id="menu-dropdown" class="menu-dropdown" role="menu" aria-hidden="true">
              <div class="menu-item" data-window="prompts" role="menuitem">
                <span class="menu-icon icon-prompts" aria-hidden="true"></span>
                Prompt Enhancer
              </div>
              <div class="menu-separator" role="separator"></div>
              <div class="menu-item" data-window="audio" role="menuitem">
                <span class="menu-icon icon-audio" aria-hidden="true"></span>
                Audio Interpolator
              </div>
              <div class="menu-separator" role="separator"></div>
              <div class="menu-item" data-window="diskrot" role="menuitem">
                <span class="menu-icon icon-diskrot" aria-hidden="true"></span>
                diskrot
              </div>
              <div class="menu-separator" role="separator"></div>
              <div class="menu-item" data-window="about" role="menuitem">
                <span class="menu-icon icon-about" aria-hidden="true"></span>
                About
              </div>
            </div>
            <div id="taskbar" class="taskbar"></div>
          </div>
          <div id="window-area">
            <div id="window-prompts-template" class="window-shell box-shell app-window prompt-window window-template" data-template="prompts">
              <div class="box-header window-header">
                <span class="box-title" aria-label="Prompt Enhancer window title">Prompt Enhancer</span>
                <div class="button-col">
                  <button type="button" class="toggle-button icon-button hide-button collapse-toggle" title="Minimize" data-expanded="-" data-collapsed="+">-</button>
                  <button type="button" class="toggle-button icon-button maximize-toggle" title="Maximize">□</button>
                  <button type="button" class="delete-button icon-button remove-box" title="Close">X</button>
                </div>
              </div>
              <div class="box-body">
                <div class="prompt-menu">
                  <button type="button" class="prompt-menu-start" aria-haspopup="true" aria-expanded="false">
                    <span class="prompt-menu-glyph" aria-hidden="true">///</span>
                    <span class="prompt-menu-label">file</span>
                  </button>
                  <div class="prompt-menu-dropdown" role="menu" aria-hidden="true">
                    <div class="prompt-menu-item" data-action="open" role="menuitem" data-help="Load a saved prompt enhancer JSON file.">Open</div>
                    <div class="prompt-menu-item" data-action="save" role="menuitem" data-help="Save using the current file name, or prompt for one if none is set.">Save</div>
                    <div class="prompt-menu-item" data-action="save-as" role="menuitem" data-help="Choose a new file name and save the current prompt enhancer state.">Save As</div>
                  </div>
                </div>
                <div class="prompt-body">
                  <button type="button" class="holo-generate generate-button">GENERATE MIX</button>
                  <input type="file" class="load-mix-file" accept="application/json" style="display:none">
                  <div class="mix-root"></div>
                  <div class="empty-state">
                    <div class="empty-state-text">No mixes yet.</div>
                    <button type="button" class="add-button add-empty-mix">+ Add Mix</button>
                  </div>
                  <div class="root-actions">
                    <button type="button" class="add-button add-root-mix">+ Add Mix</button>
                  </div>
                </div>

                <template id="mix-box-template">
                  <div class="mix-wrapper">
                    <div class="mix-box box-shell" data-box-type="mix">
                      <div class="box-header">
                        <input type="text" class="box-title" value="Mix">
                        <div class="button-col">
                          <button type="button" class="copy-button icon-button copy-output" title="Copy output" data-help="Copy the current mix output to the clipboard.">&#128203;</button>
                          <button type="button" class="toggle-button icon-button color-toggle" title="Color" data-help="Open the color panel to pick a custom color or preset.">&#127912;</button>
                          <button type="button" class="toggle-button icon-button random-button random-toggle" title="Randomize list order">&#127922;</button>
                          <button type="button" class="toggle-button icon-button hide-button collapse-toggle" title="Collapse" data-expanded="-" data-collapsed="+">-</button>
                          <button type="button" class="delete-button icon-button remove-box" title="Remove">X</button>
                        </div>
                      </div>
                      <div class="box-body">
                        <div class="mix-output">
                          <div class="label-row">
                            <label>Output</label>
                          </div>
                          <div class="input-row">
                            <pre class="mix-output-text">output will appear here</pre>
                          </div>
                        </div>
                        <div class="color-controls is-hidden">
                          <div class="label-row">
                            <label>Color</label>
                          </div>
                          <div class="input-row color-row">
                            <select class="color-preset-select" data-help="Select Auto, a preset, or Custom to set the box color."></select>
                            <input type="color" class="color-custom-input" value="#f2aa48" aria-label="Custom color" data-help="Pick any color to apply to this box.">
                          </div>
                          <div class="input-row color-row">
                            <input type="text" class="color-preset-name" placeholder="Preset name" data-help="Name a custom color preset so it can be reused.">
                            <button type="button" class="add-button save-color-preset" data-help="Save the current custom color as a named preset.">Save Preset</button>
                          </div>
                        </div>
                        <div class="mix-controls">
                          <div class="control-block">
                            <label>Rechunk Delimiter</label>
                            <select class="delimiter-select">
                              <option value="whitespace" selected>Whitespace (default)</option>
                              <option value="comma">Comma (,)</option>
                              <option value="semicolon">Semicolon (;)</option>
                              <option value="pipe">Pipe (|)</option>
                              <option value="newline">Newline</option>
                              <option value="tab">Tab</option>
                              <option value="sentence">Sentence Punctuation (.,;:!? + newline)</option>
                              <option value="custom">Custom...</option>
                            </select>
                            <div class="input-row delimiter-custom-row" style="display:none">
                              <input type="text" class="delimiter-custom" placeholder="Custom delimiter (use \n for newline)">
                            </div>
                          </div>
                          <div class="control-block">
                            <label>Chunk Size / Preserve</label>
                            <select class="delimiter-size">
                              <option value="preserve" selected>Preserve chunks</option>
                              <option value="1">1</option>
                              <option value="2">2</option>
                              <option value="3">3</option>
                              <option value="4">4</option>
                              <option value="5">5</option>
                              <option value="6">6</option>
                              <option value="7">7</option>
                              <option value="8">8</option>
                              <option value="9">9</option>
                              <option value="10">10</option>
                            </select>
                          </div>
                          <div class="control-block">
                            <label>First Chunk Behavior</label>
                            <select class="first-chunk-select" data-help="Choose how the first chunk is cut: Size X (fixed), Between 1 - X (random size), or Size X with a random start offset that cycles through the prompt.">
                              <option value="size">Size X</option>
                              <option value="between" selected>Between 1 - X</option>
                              <option value="random-start">Size X, random start location</option>
                            </select>
                          </div>
                          <div class="control-block">
                            <label>Length Limit</label>
                            <input type="number" class="length-input" value="1000" min="1" data-help="Maximum total output length unless Exactly Once is enabled.">
                          </div>
                          <div class="control-block toggle-block">
                            <label>Length Mode</label>
                            <select class="length-mode" data-help="Split final chunk trims to the limit, Concat final chunk stops before splitting, Exactly once outputs each chunk one time and ignores the limit.">
                              <option value="exact">Split Final Chunk</option>
                              <option value="exact-once" selected>Exactly Once</option>
                              <option value="allow">Concat Final Chunk</option>
                            </select>
                          </div>
                        </div>
                        <div class="mix-children"></div>
                        <div class="mix-actions">
                          <button type="button" class="add-button add-chunk-child">+ Add String</button>
                          <button type="button" class="add-button add-mix-child">+ Add Mix</button>
                          <button type="button" class="add-button add-variable-child">+ Add Variable</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </template>

                <template id="chunk-box-template">
                  <div class="chunk-wrapper">
                    <div class="chunk-box box-shell" data-box-type="chunk">
                      <div class="box-header">
                        <input type="text" class="box-title" value="String" aria-label="String title">
                        <div class="button-col">
                          <button type="button" class="copy-button icon-button copy-input" title="Copy string" data-help="Copy this string input to the clipboard.">&#128203;</button>
                          <button type="button" class="toggle-button icon-button color-toggle" title="Color" data-help="Open the color panel to pick a custom color or preset.">&#127912;</button>
                          <button type="button" class="toggle-button icon-button random-button random-toggle" title="Randomize chunks">&#127922;</button>
                          <button type="button" class="toggle-button icon-button hide-button collapse-toggle" title="Collapse" data-expanded="-" data-collapsed="+">-</button>
                          <button type="button" class="delete-button icon-button remove-box" title="Remove">X</button>
                        </div>
                      </div>
                      <div class="box-body">
                        <div class="input-row">
                          <textarea class="chunk-input" rows="3" placeholder="Enter string"></textarea>
                        </div>
                        <div class="chunk-output">
                          <div class="label-row">
                            <label>Output</label>
                          </div>
                          <div class="input-row">
                            <pre class="chunk-output-text">output will appear here</pre>
                          </div>
                        </div>
                        <div class="color-controls is-hidden">
                          <div class="label-row">
                            <label>Color</label>
                          </div>
                          <div class="input-row color-row">
                            <select class="color-preset-select" data-help="Select Auto, a preset, or Custom to set the box color."></select>
                            <input type="color" class="color-custom-input" value="#ec78d6" aria-label="Custom color" data-help="Pick any color to apply to this box.">
                          </div>
                          <div class="input-row color-row">
                            <input type="text" class="color-preset-name" placeholder="Preset name" data-help="Name a custom color preset so it can be reused.">
                            <button type="button" class="add-button save-color-preset" data-help="Save the current custom color as a named preset.">Save Preset</button>
                          </div>
                        </div>
                        <div class="chunk-controls">
                          <div class="control-block">
                            <label>Delimiter</label>
                            <select class="delimiter-select">
                              <option value="whitespace" selected>Whitespace (default)</option>
                              <option value="comma">Comma (,)</option>
                              <option value="semicolon">Semicolon (;)</option>
                              <option value="pipe">Pipe (|)</option>
                              <option value="newline">Newline</option>
                              <option value="tab">Tab</option>
                              <option value="sentence">Sentence Punctuation (.,;:!? + newline)</option>
                              <option value="custom">Custom...</option>
                            </select>
                            <div class="input-row delimiter-custom-row" style="display:none">
                              <input type="text" class="delimiter-custom" placeholder="Custom delimiter (use \n for newline)">
                            </div>
                          </div>
                          <div class="control-block">
                            <label>Chunk Size</label>
                            <select class="delimiter-size">
                              <option value="1">1</option>
                              <option value="2">2</option>
                              <option value="3">3</option>
                              <option value="4" selected>4</option>
                              <option value="5">5</option>
                              <option value="6">6</option>
                              <option value="7">7</option>
                              <option value="8">8</option>
                              <option value="9">9</option>
                              <option value="10">10</option>
                            </select>
                          </div>
                          <div class="control-block">
                            <label>First Chunk Behavior</label>
                            <select class="first-chunk-select" data-help="Choose how the first chunk is cut: Size X (fixed), Between 1 - X (random size), or Size X with a random start offset that cycles through the prompt.">
                              <option value="size">Size X</option>
                              <option value="between" selected>Between 1 - X</option>
                              <option value="random-start">Size X, random start location</option>
                            </select>
                          </div>
                          <div class="control-block">
                            <label>Length Limit</label>
                            <input type="number" class="length-input" value="1000" min="1" data-help="Maximum total output length unless Exactly Once is enabled.">
                          </div>
                          <div class="control-block toggle-block">
                            <label>Length Mode</label>
                            <select class="length-mode" data-help="Split final chunk trims to the limit, Concat final chunk stops before splitting, Exactly once outputs each chunk one time and ignores the limit.">
                              <option value="exact">Split Final Chunk</option>
                              <option value="exact-once" selected>Exactly Once</option>
                              <option value="allow">Concat Final Chunk</option>
                            </select>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </template>

                <template id="variable-box-template">
                  <div class="variable-wrapper">
                    <div class="variable-box box-shell" data-box-type="variable">
                      <div class="box-header">
                        <span class="box-title">Variable</span>
                        <div class="button-col">
                          <button type="button" class="toggle-button icon-button hide-button collapse-toggle" title="Collapse" data-expanded="-" data-collapsed="+">-</button>
                          <button type="button" class="delete-button icon-button remove-box" title="Remove">X</button>
                        </div>
                      </div>
                      <div class="box-body">
                        <div class="control-block">
                          <label>Source</label>
                          <select class="variable-select">
                            <option value="" selected>Select a mix or string...</option>
                          </select>
                        </div>
                      </div>
                    </div>
                  </div>
                </template>
              </div>
              <div class="resize-handle" aria-hidden="true"></div>
            </div>

            <div id="window-about-template" class="window-shell box-shell app-window about-window window-template" data-template="about">
              <div class="box-header window-header">
                <span class="box-title" aria-label="About window title">About</span>
                <div class="button-col">
                  <button type="button" class="toggle-button icon-button hide-button collapse-toggle" title="Minimize" data-expanded="-" data-collapsed="+">-</button>
                  <button type="button" class="toggle-button icon-button maximize-toggle" title="Maximize">□</button>
                  <button type="button" class="delete-button icon-button remove-box" title="Close">X</button>
                </div>
              </div>
              <div class="box-body">
                <div class="input-group section-about about-card">
                  <div class="label-row">
                    <label>tools by daniel yosef stilman///yolkhead</label>
                  </div>
                  <p class="about-text">GitHub: <a class="about-link" href="https://github.com/daniel-stilman" target="_blank" rel="noopener noreferrer">github.com/daniel-stilman</a></p>
                  <p class="about-text">Linktree: <a class="about-link" href="https://linktr.ee/yolkhead" target="_blank" rel="noopener noreferrer">linktr.ee/yolkhead</a></p>
                  <p class="about-text">Diskrot: <a class="about-link" href="https://diskrot.com/@yolkhead" target="_blank" rel="noopener noreferrer">diskrot.com/@yolkhead</a></p>
                </div>
              </div>
              <div class="resize-handle" aria-hidden="true"></div>
            </div>

            <div id="window-audio-template" class="window-shell box-shell app-window audio-window window-template" data-template="audio">
              <div class="box-header window-header">
                <span class="box-title" aria-label="Audio Interpolator window title">Audio Interpolator</span>
                <div class="button-col">
                  <button type="button" class="toggle-button icon-button hide-button collapse-toggle" title="Minimize" data-expanded="-" data-collapsed="+">-</button>
                  <button type="button" class="toggle-button icon-button maximize-toggle" title="Maximize">□</button>
                  <button type="button" class="delete-button icon-button remove-box" title="Close">X</button>
                </div>
              </div>
              <div class="box-body">
                <iframe class="audio-frame" title="Audio Interpolator" src="https://diskrot.com/audio-interpolator/index.html"></iframe>
              </div>
              <div class="resize-handle" aria-hidden="true"></div>
            </div>

            <div id="window-diskrot-template" class="window-shell box-shell app-window diskrot-window window-template" data-template="diskrot">
              <div class="box-header window-header">
                <span class="box-title" aria-label="Diskrot window title">///diskrot</span>
                <div class="button-col">
                  <button type="button" class="toggle-button icon-button hide-button collapse-toggle" title="Minimize" data-expanded="-" data-collapsed="+">-</button>
                  <button type="button" class="toggle-button icon-button maximize-toggle" title="Maximize">□</button>
                  <button type="button" class="delete-button icon-button remove-box" title="Close">X</button>
                </div>
              </div>
              <div class="box-body">
                <iframe class="diskrot-frame" title="Diskrot" src="https://www.diskrot.com"></iframe>
              </div>
              <div class="resize-handle" aria-hidden="true"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- External script loading order is important -->
  <!-- Load list data files first -->
  <script src="default_list.js"></script>
  <!-- Then load main application logic -->
  <script src="script.js"></script>
</body>

</html>
